<app-game-buttons
  (ShowTopList)="showToplist()"
  (GiveHint)="giveHint()"
  (ShuffleCardsTable)="shuffleCardsTable()"
  (NavigateToRandom)="navigateToRandom()"
  (NavigateToDaily)="navigateToDaily()"
></app-game-buttons>
<div class="card-container">
  <div>
    <div class="sub-header">
      <span>Find the {{ SetCount }} sets</span>
      <span>{{ GameType == "random" ? "Id: " + GameId : Today }}</span>
    </div>
    @if (RenderGrid) {
    <app-cards-grid
      id="cards-grid"
      [Cards]="DealtCards"
      (Selected)="cardSelected($event)"
      (UnSelected)="cardUnSelected($event)"
    />
    }
  </div>
  <div class="founds-container">
    <div class="found-count">Found {{ Found.length }}</div>
    <app-cards-grid [Cards]="Found.flat()" />
  </div>
</div>
<div class="usertime">
  <a href="#" (click)="changeUserName()" class="user">{{ UserName }}</a>
  <div class="time">{{ Time }}</div>
</div>

<app-dialog
  [Visible]="showDialog"
  [Message]="dialogMessage"
  (click)="showDialog = false"
></app-dialog>

<app-dialog
  [Visible]="ShowToplist"
  [Message]="''"
  (click)="ShowToplist = false"
>
  <table>
    @if(Toplist.length == 0){
    <td>No results today yet.</td>
    } @for (item of Toplist; track $index) {
    <tr>
      <td>{{ $index + 1 }}.</td>
      <td class="name">{{ item.user }}</td>
      <td>{{ formatTime(item.time) }}</td>
    </tr>
    }
  </table>
</app-dialog>

<canvas id="confetti-canvas" class="confetti"></canvas>
